var padding;padding=100,function(n){var t,e,r;return e=function(n,e,i,s){return e=t(e),r(e,i,s)},t=function(n){var t,e;return e=_.keys(n),t={},_.each(e,function(e){return t[e]={"spider-x":n[e]["spider-x"]+padding/2,"spider-y":n[e]["spider-y"]+padding/2}}),t},r=function(t,e,r){var i,s,d,a,o,u,c,p;return s=_.keys(t),u=[],_.each(s,function(n){return function(n){return u.push({class_name:n,x:t[n]["spider-x"],y:t[n]["spider-y"]})}}(this)),d=_.max(u,function(n){return n.x}).x+padding,a=_.max(u,function(n){return n.y}).y+padding,p=n(".map").width(),i=n("body").height(),c=d3.select(".map").append("svg").attr("viewBox","0 0 "+d+" "+a),o=[],_.each(e,function(n){return o.push({x1:t[n.source]["spider-x"],y1:t[n.source]["spider-y"],x2:t[n.target]["spider-x"],y2:t[n.target]["spider-y"],color:r[n.line]})}),c.selectAll(".connection").data(o).enter().append("line").attr({x1:function(n){return n.x1},y1:function(n){return n.y1},x2:function(n){return n.x2},y2:function(n){return n.y2}}).style({"stroke-width":20,stroke:function(n){return n.color}}),c.selectAll(".station").data(u).enter().append("circle").attr({cx:function(n){return n.x},cy:function(n){return n.y},r:20,"class":function(n){return n.class_name}}).style({fill:"#fff","stroke-width":5,stroke:"#999"})},queue().defer(d3.json,"dist/data/stations.json").defer(d3.json,"dist/data/connections.json").defer(d3.json,"dist/data/colors.json").await(e)}(jQuery,d3,_);