var padding;padding=100,function(t){var r,n,e;return n=function(t,n,i,a){return n=r(n),e(n,i,a)},r=function(t){var r,n;return n=_.keys(t),r={},_.each(n,function(n){return r[n]={"spider-x":t[n]["spider-x"]+padding/2,"spider-y":t[n]["spider-y"]+padding/2}}),r},e=function(r,n,e){var i,a,d,o,s,u,c,p;return a=_.keys(r),u=[],_.each(a,function(t){return function(t){return u.push({x:r[t]["spider-x"],y:r[t]["spider-y"]})}}(this)),d=_.max(u,function(t){return t.x}).x+padding,o=_.max(u,function(t){return t.y}).y+padding,p=t("body").width(),i=t("body").height(),c=d3.select(".map").append("svg").attr("viewBox","0 0 "+d+" "+o).attr("width",p).attr("height",i),s=[],_.each(n,function(t){return s.push({x1:r[t.source]["spider-x"],y1:r[t.source]["spider-y"],x2:r[t.target]["spider-x"],y2:r[t.target]["spider-y"],color:e[t.line]})}),c.selectAll(".connection").data(s).enter().append("line").attr("x1",function(t){return t.x1}).attr("y1",function(t){return t.y1}).attr("x2",function(t){return t.x2}).attr("y2",function(t){return t.y2}).attr("stroke-width",20).attr("stroke",function(t){return t.color}),c.selectAll(".station").data(u).enter().append("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",20).style("fill","#fff").style("stroke-width",5).style("stroke","#999")},queue().defer(d3.json,"dist/data/stations.json").defer(d3.json,"dist/data/connections.json").defer(d3.json,"dist/data/colors.json").await(n)}(jQuery,d3,_);